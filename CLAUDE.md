# CLAUDE.md

Claude Code (claude.ai/code) μ‘μ—…μ„ μ„ν• ν”„λ΅μ νΈ κ°€μ΄λ“μ…λ‹λ‹¤.

## π“‹ ν•„μ μ°Έκ³  νμΌ (μμ„λ€λ΅)
λ¨λ“  μƒμ„Έ λ¬Έμ„λ” `.claude/docs/` ν΄λ”μ— μ„μΉν•©λ‹λ‹¤:

1. **DEVELOPMENT_GUIDE.md** - κ°λ° μ§„ν–‰ μμ„ λ° μ»¤λ§¨λ“ μ‚¬μ©λ²•
2. **BUSINESS_POLICIES.md** - κµ¬ν„ν•΄μ•Ό ν•  λΉ„μ¦λ‹μ¤ μ •μ±… μ •μ
3. **PROJECT_GUIDELINES.md** - κ³Όμ  μ”κµ¬μ‚¬ν•­ λ° ν‰κ°€ κΈ°μ¤€

## μ‹μ‘ν•κΈ°
**μ²« μ‘μ—… μ‹ λ°λ“μ‹ ν™•μΈ**: `.claude/docs/DEVELOPMENT_GUIDE.md`μ νμ΄μ¦λ³„ μ§„ν–‰ μμ„λ¥Ό λ”°λΌ κ°λ°ν•μ„Έμ”.

## ν”„λ΅μ νΈ κµ¬μ΅°

**week01** λ””λ ‰ν† λ¦¬μ— Spring Boot Kotlin μ• ν”λ¦¬μΌ€μ΄μ…μ΄ μμµλ‹λ‹¤. ν”„λ΅μ νΈλ…μ€ `hhplus-tdd-jvm`μ΄λ©° ν¬μΈνΈ κ΄€λ¦¬ μ‹μ¤ν…μ„ TDDλ΅ κµ¬ν„ν•©λ‹λ‹¤.

## λ…λ Ήμ–΄

λ¨λ“  λ…λ Ήμ–΄λ” `week01` λ””λ ‰ν† λ¦¬μ—μ„ μ‹¤ν–‰:

### κ°λ° λ…λ Ήμ–΄
- **μ• ν”λ¦¬μΌ€μ΄μ… μ‹¤ν–‰**: `./gradlew bootRun`
- **ν”„λ΅μ νΈ λΉλ“**: `./gradlew build`
- **ν…μ¤νΈ μ‹¤ν–‰**: `./gradlew test`
- **λΉλ“ μ •λ¦¬**: `./gradlew clean`

### ν…μ¤νΈ λ…λ Ήμ–΄
- **μ „μ²΄ ν…μ¤νΈ**: `./gradlew test`
- **μ»¤λ²„λ¦¬μ§€ μƒμ„±**: `./gradlew jacocoTestReport`

## μ•„ν‚¤ν…μ²

### ν•µμ‹¬ μ»΄ν¬λ„νΈ
- **μ• ν”λ¦¬μΌ€μ΄μ…**: `TddApplication.kt`
- **μ»¨νΈλ΅¤λ¬**: `PointController.kt` - TODO μ£Όμ„μ΄ μλ” REST API
- **λ°μ΄ν„° λ¨λΈ**:
  - `UserPoint.kt` - μ‚¬μ©μ ν¬μΈνΈ λ°μ΄ν„°
  - `PointHistory.kt` - κ±°λ λ‚΄μ—­ (CHARGE/USE)
- **λ°μ΄ν„°λ² μ΄μ¤**:
  - `UserPointTable.kt` - ν¬μΈνΈ μ €μ¥ (μ§€μ—°μ‹κ°„ ν¬ν•¨)
  - `PointHistoryTable.kt` - κ±°λ λ‚΄μ—­ μ €μ¥
- **μμ™Έ μ²λ¦¬**: `ApiControllerAdvice.kt` - κΈ€λ΅λ² μμ™Έ ν•Έλ“¤λ¬

### μ£Όμ” κµ¬ν„ μ‚¬ν•­
- **ν¨ν‚¤μ§€ κµ¬μ΅°**: `io.hhplus.tdd.*`
- **λ°μ΄ν„°λ² μ΄μ¤**: μΈλ©”λ¨λ¦¬ κµ¬ν„μ²΄ (100-300ms λλ¤ μ§€μ—°)
- **API μ—”λ“ν¬μΈνΈ**:
  - `GET /point/{id}` - ν¬μΈνΈ μ΅°ν
  - `GET /point/{id}/histories` - λ‚΄μ—­ μ΅°ν
  - `PATCH /point/{id}/charge` - ν¬μΈνΈ μ¶©μ „
  - `PATCH /point/{id}/use` - ν¬μΈνΈ μ‚¬μ©
- **ν”„λ μ„μ›ν¬**: Spring Boot 3.2.0 + Kotlin 1.9.21

### κ°λ° λ…ΈνΈ
- **TDD μ¤‘μ‹¬**: μ»¨νΈλ΅¤λ¬ λ©”μ„λ“μ— TODO μ£Όμ„μΌλ΅ κµ¬ν„ν•  κΈ°λ¥ ν‘μ‹
- **λ™μ‹μ„± ν…μ¤νΈ**: λ°μ΄ν„°λ² μ΄μ¤ ν…μ΄λΈ”μ— μλ„μ  μ§€μ—°μ‹κ°„ ν¬ν•¨
- **μ μ•½μ‚¬ν•­**: κΈ°μ΅΄ λ°μ΄ν„°λ² μ΄μ¤ ν…μ΄λΈ” ν΄λμ¤ μμ • κΈμ§€

## TDD κ³Όμ  μ»¨ν…μ¤νΈ

### κ³Όμ  μ΄μ 
- TDD λ°©λ²•λ΅  ν•™μµμ„ μ„ν• κ³Όμ 
- ν¬μΈνΈ κ΄€λ¦¬ μ‹μ¤ν…μ„ TDD μ‚¬μ΄ν΄λ΅ κ°λ°
- μƒμ„Έν• μ”κµ¬μ‚¬ν•­μ€ PROJECT_GUIDELINES.md μ°Έμ΅°

### ν•µμ‹¬ κµ¬ν„ λ…ΈνΈ
- TODO μ£Όμ„μ΄ μλ” κΈ°λ¥λ“¤μ„ μ°μ„  κµ¬ν„
- κΈ°μ΅΄ database ν…μ΄λΈ” ν΄λμ¤λ” μμ • κΈμ§€
- Red-Green-Refactor μ‚¬μ΄ν΄ μ—„κ²© μ¤€μ

## μ½”λ”© μ»¨λ²¤μ…

### Kotlin μ¤νƒ€μΌ
- **λ„¤μ΄λ°**: ν•¨μ/λ³€μλ” camelCase, ν΄λμ¤λ” PascalCase
- **λ¬Έμ„ν™”**: λ¨λ“  public ν•¨μμ— KDoc μ£Όμ„ ν•„μ
- **μμ™Έ μ²λ¦¬**: λΉ„μ¦λ‹μ¤ μμ™Έλ” custom exception ν΄λμ¤ μ‚¬μ©
- **κ²€μ¦**: μ…λ ¥κ°’ κ²€μ¦μ€ controller λ μ΄μ–΄μ—μ„ μν–‰

### ν…μ¤νΈ μ½”λ“ κΈ°μ¤€
- **ν…μ¤νΈ ν΄λμ¤**: `{ClassName}Test` ν•μ‹
- **ν…μ¤νΈ λ©”μ„λ“**: `should_{μμƒκ²°κ³Ό}_when_{μ΅°κ±΄}` ν•μ‹
- **ν…μ¤νΈ λ°μ΄ν„°**: given-when-then ν¨ν„΄ μ‚¬μ©
- **Mock μ‚¬μ©**: μ™Έλ¶€ μμ΅΄μ„±λ§ mock, λΉ„μ¦λ‹μ¤ λ΅μ§μ€ μ‹¤μ  κ°μ²΄

### μ»¤λ°‹ λ©”μ‹μ§€ ν•μ‹
```
<type>(<scope>): <description>

[optional body]
```
- Types: feat, fix, test, refactor, docs
- Scope: point, user, history, test
- μμ‹: `feat(point): implement charge validation with minimum amount`

## Custom Commands

### μ‚¬μ© κ°€λ¥ν• λ…λ Ήμ–΄
- `/tdd-cycle` - TDD μ‚¬μ΄ν΄ μλ™ν™” (Red-Green-Refactor)
- `/point-feature` - ν¬μΈνΈ κΈ°λ¥ κµ¬ν„ μλ™ν™”
- `/test-setup` - ν…μ¤νΈ λ°μ΄ν„° λ° ν™κ²½ μ…‹μ—…
- `/create-pr` - PR ν…ν”λ¦Ώ κΈ°λ° μλ™ PR μƒμ„±

### μ›ν¬ν”λ΅μ° ν†µν•©
μ΄ λ…λ Ήμ–΄λ“¤μ„ ν™μ©ν•μ—¬ TDD κ°λ° μ›ν¬ν”λ΅μ°λ¥Ό μλ™ν™”ν•κ³  μΌκ΄€μ„± μλ” μ½”λ“ ν’μ§μ„ μ μ§€ν•μ„Έμ”.